---

- name: Install git and zsh
  apt: pkg={{item}} state=installed
  sudo: true
  with_items:
    - zsh
    - git
    - screen

- name: Install oh-my-zsh
  git: repo=git://github.com/robbyrussell/oh-my-zsh.git dest=/home/adrien/.oh-my-zsh accept_hostkey=True
  sudo: true

- name: Copy dotfiles
  copy: src={{item}} dest=/home/adrien/.{{item}} owner=adrien group=adrien mode=700
  sudo: true
  with_items:
    - curlrc
    - gemrc
    - inputrc
    - irbrc
    - screenrc
    - vimrc
    - wgetrc
    - zshrc

- name: Create custom theme directory
  file: dest=/home/adrien/.oh-my-zsh/custom/themes state=directory
  sudo: true

- name: Install zsh theme
  copy: src=kohlby.zsh-theme dest=/home/adrien/.oh-my-zsh/custom/themes/kohlby.zsh-theme owner=adrien group=adrien mode=700
  sudo: true

- name: Change shell to zsh
  user: name=adrien shell=/bin/zsh
  sudo: true

- name: Create vim directories
  file: dest={{item}} state=directory owner=adrien group=adrien
  sudo: true
  with_items:
    - /home/adrien/.vim/backups
    - /home/adrien/.vim/colors
    - /home/adrien/.vim/swaps
    - /home/adrien/.vim/syntax
    - /home/adrien/.vim/undo

- name: Copy vim theme
  copy: src=molokai.vim dest=/home/adrien/.vim/colors/molokai.vim
  sudo: true
